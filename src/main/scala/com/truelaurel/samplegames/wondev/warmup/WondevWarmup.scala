package com.truelaurel.samplegames.wondev.warmup

import com.truelaurel.math.geometry.Pos
import com.truelaurel.samplegames.wondev.analysis.WarFogCleaner
import com.truelaurel.samplegames.wondev.domain.{
  MoveBuild,
  PushBuild,
  WondevAction,
  WondevState
}
import com.truelaurel.samplegames.wondev.strategy.MinimaxPlayer

/**
  * Created by hwang on 18/07/2017.
  */
object WondevWarmup {

  def warmup(): WondevAction = {
    val player = MinimaxPlayer
    val observed = WondevState(
      7,
      Map(
        Pos(2, 5) -> 0,
        Pos(1, 5) -> -1,
        Pos(5, 0) -> -1,
        Pos(0, 2) -> -1,
        Pos(0, 0) -> -1,
        Pos(5, 2) -> 0,
        Pos(5, 1) -> -1,
        Pos(4, 0) -> -1,
        Pos(3, 4) -> 0,
        Pos(6, 4) -> -1,
        Pos(6, 6) -> -1,
        Pos(3, 1) -> 0,
        Pos(6, 1) -> -1,
        Pos(4, 1) -> 0,
        Pos(6, 2) -> -1,
        Pos(2, 0) -> -1,
        Pos(0, 3) -> 0,
        Pos(4, 4) -> 1,
        Pos(3, 0) -> 0,
        Pos(1, 6) -> -1,
        Pos(0, 5) -> -1,
        Pos(3, 6) -> 0,
        Pos(6, 5) -> -1,
        Pos(1, 1) -> -1,
        Pos(6, 3) -> 0,
        Pos(3, 5) -> 0,
        Pos(4, 6) -> -1,
        Pos(4, 5) -> 0,
        Pos(1, 4) -> 1,
        Pos(2, 6) -> -1,
        Pos(0, 4) -> -1,
        Pos(5, 4) -> 0,
        Pos(3, 2) -> 0,
        Pos(1, 3) -> 0,
        Pos(2, 2) -> 0,
        Pos(5, 5) -> -1,
        Pos(4, 2) -> 0,
        Pos(2, 4) -> 0,
        Pos(0, 1) -> -1,
        Pos(5, 3) -> 0,
        Pos(3, 3) -> 0,
        Pos(2, 3) -> 0,
        Pos(1, 2) -> 0,
        Pos(2, 1) -> 0,
        Pos(4, 3) -> 0,
        Pos(6, 0) -> -1,
        Pos(1, 0) -> -1,
        Pos(5, 6) -> -1,
        Pos(0, 6) -> -1
      ),
      List(Pos(3, 4), Pos(4, 2), Pos(2, 4), Pos(-1, -1)),
      List(
        MoveBuild(0, Pos(4, 4), Pos(5, 4)),
        MoveBuild(0, Pos(4, 4), Pos(4, 3)),
        MoveBuild(0, Pos(4, 4), Pos(5, 3)),
        MoveBuild(0, Pos(4, 4), Pos(3, 3)),
        MoveBuild(0, Pos(4, 4), Pos(4, 5)),
        MoveBuild(0, Pos(4, 4), Pos(3, 5)),
        MoveBuild(0, Pos(4, 4), Pos(3, 4)),
        MoveBuild(0, Pos(3, 3), Pos(4, 3)),
        MoveBuild(0, Pos(3, 3), Pos(3, 2)),
        MoveBuild(0, Pos(3, 3), Pos(2, 2)),
        MoveBuild(0, Pos(3, 3), Pos(3, 4)),
        MoveBuild(0, Pos(3, 3), Pos(4, 4)),
        MoveBuild(0, Pos(3, 3), Pos(2, 3)),
        MoveBuild(0, Pos(4, 3), Pos(5, 3)),
        MoveBuild(0, Pos(4, 3), Pos(5, 2)),
        MoveBuild(0, Pos(4, 3), Pos(3, 2)),
        MoveBuild(0, Pos(4, 3), Pos(4, 4)),
        MoveBuild(0, Pos(4, 3), Pos(5, 4)),
        MoveBuild(0, Pos(4, 3), Pos(3, 4)),
        MoveBuild(0, Pos(4, 3), Pos(3, 3)),
        MoveBuild(0, Pos(2, 3), Pos(3, 3)),
        MoveBuild(0, Pos(2, 3), Pos(2, 2)),
        MoveBuild(0, Pos(2, 3), Pos(3, 2)),
        MoveBuild(0, Pos(2, 3), Pos(1, 2)),
        MoveBuild(0, Pos(2, 3), Pos(3, 4)),
        MoveBuild(0, Pos(2, 3), Pos(1, 4)),
        MoveBuild(0, Pos(2, 3), Pos(1, 3)),
        MoveBuild(0, Pos(3, 5), Pos(4, 5)),
        MoveBuild(0, Pos(3, 5), Pos(3, 4)),
        MoveBuild(0, Pos(3, 5), Pos(4, 4)),
        MoveBuild(0, Pos(3, 5), Pos(3, 6)),
        MoveBuild(0, Pos(3, 5), Pos(2, 5)),
        MoveBuild(0, Pos(4, 5), Pos(4, 4)),
        MoveBuild(0, Pos(4, 5), Pos(5, 4)),
        MoveBuild(0, Pos(4, 5), Pos(3, 4)),
        MoveBuild(0, Pos(4, 5), Pos(3, 6)),
        MoveBuild(0, Pos(4, 5), Pos(3, 5)),
        MoveBuild(0, Pos(2, 5), Pos(3, 5)),
        MoveBuild(0, Pos(2, 5), Pos(3, 4)),
        MoveBuild(0, Pos(2, 5), Pos(1, 4)),
        MoveBuild(0, Pos(2, 5), Pos(3, 6)),
        MoveBuild(1, Pos(5, 2), Pos(4, 1)),
        MoveBuild(1, Pos(5, 2), Pos(5, 3)),
        MoveBuild(1, Pos(5, 2), Pos(6, 3)),
        MoveBuild(1, Pos(5, 2), Pos(4, 3)),
        MoveBuild(1, Pos(5, 2), Pos(4, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 0)),
        MoveBuild(1, Pos(4, 1), Pos(4, 2)),
        MoveBuild(1, Pos(4, 1), Pos(5, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 1)),
        MoveBuild(1, Pos(3, 1), Pos(4, 1)),
        MoveBuild(1, Pos(3, 1), Pos(3, 0)),
        MoveBuild(1, Pos(3, 1), Pos(3, 2)),
        MoveBuild(1, Pos(3, 1), Pos(4, 2)),
        MoveBuild(1, Pos(3, 1), Pos(2, 2)),
        MoveBuild(1, Pos(3, 1), Pos(2, 1)),
        MoveBuild(1, Pos(4, 3), Pos(5, 3)),
        MoveBuild(1, Pos(4, 3), Pos(4, 2)),
        MoveBuild(1, Pos(4, 3), Pos(5, 2)),
        MoveBuild(1, Pos(4, 3), Pos(3, 2)),
        MoveBuild(1, Pos(4, 3), Pos(4, 4)),
        MoveBuild(1, Pos(4, 3), Pos(5, 4)),
        MoveBuild(1, Pos(4, 3), Pos(3, 3)),
        MoveBuild(1, Pos(5, 3), Pos(6, 3)),
        MoveBuild(1, Pos(5, 3), Pos(5, 2)),
        MoveBuild(1, Pos(5, 3), Pos(4, 2)),
        MoveBuild(1, Pos(5, 3), Pos(5, 4)),
        MoveBuild(1, Pos(5, 3), Pos(4, 4)),
        MoveBuild(1, Pos(5, 3), Pos(4, 3)),
        MoveBuild(1, Pos(3, 3), Pos(4, 3)),
        MoveBuild(1, Pos(3, 3), Pos(3, 2)),
        MoveBuild(1, Pos(3, 3), Pos(4, 2)),
        MoveBuild(1, Pos(3, 3), Pos(2, 2)),
        MoveBuild(1, Pos(3, 3), Pos(4, 4)),
        MoveBuild(1, Pos(3, 3), Pos(2, 3)),
        MoveBuild(1, Pos(3, 2), Pos(4, 2)),
        MoveBuild(1, Pos(3, 2), Pos(3, 1)),
        MoveBuild(1, Pos(3, 2), Pos(4, 1)),
        MoveBuild(1, Pos(3, 2), Pos(2, 1)),
        MoveBuild(1, Pos(3, 2), Pos(3, 3)),
        MoveBuild(1, Pos(3, 2), Pos(4, 3)),
        MoveBuild(1, Pos(3, 2), Pos(2, 3)),
        MoveBuild(1, Pos(3, 2), Pos(2, 2)),
        PushBuild(0, Pos(2, 4), Pos(1, 3)),
        PushBuild(0, Pos(2, 4), Pos(1, 4))
      ),
      true
    )

    val previousAction = MoveBuild(0, Pos(3, 4), Pos(4, 4))

    val previousOppoScope = Set(
      Set(Pos(2, 5), Pos(1, 2)),
      Set(Pos(2, 5), Pos(1, 3)),
      Set(Pos(1, 3), Pos(2, 1)),
      Set(Pos(3, 0), Pos(2, 3)),
      Set(Pos(2, 3), Pos(1, 2)),
      Set(Pos(2, 2), Pos(2, 3)),
      Set(Pos(6, 3), Pos(4, 5)),
      Set(Pos(2, 5), Pos(2, 2)),
      Set(Pos(2, 3), Pos(2, 1)),
      Set(Pos(6, 3), Pos(3, 5)),
      Set(Pos(0, 3), Pos(2, 1)),
      Set(Pos(2, 4), Pos(2, 1)),
      Set(Pos(2, 5), Pos(6, 3)),
      Set(Pos(1, 3), Pos(2, 4)),
      Set(Pos(3, 0), Pos(2, 2)),
      Set(Pos(3, 5), Pos(1, 3)),
      Set(Pos(2, 2), Pos(1, 2)),
      Set(Pos(1, 4), Pos(2, 3)),
      Set(Pos(4, 5), Pos(2, 2)),
      Set(Pos(3, 0), Pos(2, 4)),
      Set(Pos(0, 3), Pos(1, 4)),
      Set(Pos(2, 5), Pos(2, 1)),
      Set(Pos(3, 5), Pos(1, 2)),
      Set(Pos(0, 3), Pos(4, 5)),
      Set(Pos(3, 6), Pos(2, 4)),
      Set(Pos(2, 2), Pos(2, 1)),
      Set(Pos(3, 6), Pos(1, 4)),
      Set(Pos(6, 3), Pos(1, 3)),
      Set(Pos(3, 0), Pos(6, 3)),
      Set(Pos(2, 5), Pos(2, 3)),
      Set(Pos(3, 0), Pos(4, 5)),
      Set(Pos(3, 5), Pos(2, 1)),
      Set(Pos(2, 4), Pos(2, 3)),
      Set(Pos(3, 6), Pos(4, 5)),
      Set(Pos(6, 3), Pos(2, 3)),
      Set(Pos(1, 3), Pos(2, 3)),
      Set(Pos(0, 3), Pos(2, 2)),
      Set(Pos(2, 5), Pos(4, 5)),
      Set(Pos(3, 5), Pos(2, 4)),
      Set(Pos(3, 6), Pos(3, 5)),
      Set(Pos(1, 4), Pos(2, 1)),
      Set(Pos(3, 6), Pos(2, 3)),
      Set(Pos(2, 2), Pos(2, 4)),
      Set(Pos(4, 5), Pos(2, 1)),
      Set(Pos(0, 3), Pos(2, 4)),
      Set(Pos(3, 5), Pos(1, 4)),
      Set(Pos(0, 3), Pos(2, 3)),
      Set(Pos(2, 5), Pos(0, 3)),
      Set(Pos(3, 0), Pos(2, 1)),
      Set(Pos(0, 3), Pos(3, 5)),
      Set(Pos(3, 0), Pos(3, 6)),
      Set(Pos(2, 5), Pos(3, 6)),
      Set(Pos(3, 5), Pos(4, 5)),
      Set(Pos(4, 5), Pos(2, 4)),
      Set(Pos(6, 3), Pos(1, 2)),
      Set(Pos(6, 3), Pos(1, 4)),
      Set(Pos(3, 0), Pos(1, 2)),
      Set(Pos(2, 5), Pos(2, 4)),
      Set(Pos(4, 5), Pos(1, 2)),
      Set(Pos(4, 5), Pos(2, 3)),
      Set(Pos(3, 0), Pos(1, 3)),
      Set(Pos(2, 5), Pos(3, 0)),
      Set(Pos(2, 5), Pos(1, 4)),
      Set(Pos(3, 6), Pos(2, 2)),
      Set(Pos(2, 4), Pos(1, 2)),
      Set(Pos(1, 4), Pos(2, 4)),
      Set(Pos(3, 6), Pos(6, 3)),
      Set(Pos(0, 3), Pos(3, 6)),
      Set(Pos(6, 3), Pos(2, 1)),
      Set(Pos(6, 3), Pos(2, 4)),
      Set(Pos(3, 0), Pos(1, 4)),
      Set(Pos(1, 4), Pos(2, 2)),
      Set(Pos(1, 4), Pos(1, 2)),
      Set(Pos(1, 3), Pos(2, 2)),
      Set(Pos(0, 3), Pos(1, 3)),
      Set(Pos(3, 5), Pos(2, 2)),
      Set(Pos(0, 3), Pos(3, 0)),
      Set(Pos(1, 3), Pos(1, 2)),
      Set(Pos(1, 2), Pos(2, 1)),
      Set(Pos(3, 6), Pos(2, 1)),
      Set(Pos(3, 0), Pos(3, 5)),
      Set(Pos(3, 6), Pos(1, 2)),
      Set(Pos(3, 6), Pos(1, 3)),
      Set(Pos(0, 3), Pos(6, 3)),
      Set(Pos(0, 3), Pos(1, 2)),
      Set(Pos(4, 5), Pos(1, 3)),
      Set(Pos(1, 4), Pos(1, 3)),
      Set(Pos(3, 5), Pos(2, 3)),
      Set(Pos(4, 5), Pos(1, 4)),
      Set(Pos(2, 5), Pos(3, 5)),
      Set(Pos(6, 3), Pos(2, 2))
    )

    val previousState = WondevState(
      7,
      Map(
        Pos(2, 5) -> 0,
        Pos(1, 5) -> -1,
        Pos(5, 0) -> -1,
        Pos(0, 2) -> -1,
        Pos(0, 0) -> -1,
        Pos(5, 2) -> 0,
        Pos(5, 1) -> -1,
        Pos(4, 0) -> -1,
        Pos(3, 4) -> 0,
        Pos(6, 4) -> -1,
        Pos(6, 6) -> -1,
        Pos(3, 1) -> 0,
        Pos(6, 1) -> -1,
        Pos(4, 1) -> 0,
        Pos(6, 2) -> -1,
        Pos(2, 0) -> -1,
        Pos(0, 3) -> 0,
        Pos(4, 4) -> 0,
        Pos(3, 0) -> 0,
        Pos(1, 6) -> -1,
        Pos(0, 5) -> -1,
        Pos(3, 6) -> 0,
        Pos(6, 5) -> -1,
        Pos(1, 1) -> -1,
        Pos(6, 3) -> 0,
        Pos(3, 5) -> 0,
        Pos(4, 6) -> -1,
        Pos(4, 5) -> 0,
        Pos(1, 4) -> 0,
        Pos(2, 6) -> -1,
        Pos(0, 4) -> -1,
        Pos(5, 4) -> 0,
        Pos(3, 2) -> 0,
        Pos(1, 3) -> 0,
        Pos(2, 2) -> 0,
        Pos(5, 5) -> -1,
        Pos(4, 2) -> 0,
        Pos(2, 4) -> 0,
        Pos(0, 1) -> -1,
        Pos(5, 3) -> 0,
        Pos(3, 3) -> 0,
        Pos(2, 3) -> 0,
        Pos(1, 2) -> 0,
        Pos(2, 1) -> 0,
        Pos(4, 3) -> 0,
        Pos(6, 0) -> -1,
        Pos(1, 0) -> -1,
        Pos(5, 6) -> -1,
        Pos(0, 6) -> -1
      ),
      List(Pos(4, 3), Pos(4, 2), Pos(-1, -1), Pos(-1, -1)),
      List(
        MoveBuild(0, Pos(5, 3), Pos(6, 3)),
        MoveBuild(0, Pos(5, 3), Pos(5, 2)),
        MoveBuild(0, Pos(5, 3), Pos(5, 4)),
        MoveBuild(0, Pos(5, 3), Pos(4, 4)),
        MoveBuild(0, Pos(5, 3), Pos(4, 3)),
        MoveBuild(0, Pos(5, 2), Pos(4, 1)),
        MoveBuild(0, Pos(5, 2), Pos(5, 3)),
        MoveBuild(0, Pos(5, 2), Pos(6, 3)),
        MoveBuild(0, Pos(5, 2), Pos(4, 3)),
        MoveBuild(0, Pos(3, 2), Pos(3, 1)),
        MoveBuild(0, Pos(3, 2), Pos(4, 1)),
        MoveBuild(0, Pos(3, 2), Pos(2, 1)),
        MoveBuild(0, Pos(3, 2), Pos(3, 3)),
        MoveBuild(0, Pos(3, 2), Pos(4, 3)),
        MoveBuild(0, Pos(3, 2), Pos(2, 3)),
        MoveBuild(0, Pos(3, 2), Pos(2, 2)),
        MoveBuild(0, Pos(4, 4), Pos(5, 4)),
        MoveBuild(0, Pos(4, 4), Pos(4, 3)),
        MoveBuild(0, Pos(4, 4), Pos(5, 3)),
        MoveBuild(0, Pos(4, 4), Pos(3, 3)),
        MoveBuild(0, Pos(4, 4), Pos(4, 5)),
        MoveBuild(0, Pos(4, 4), Pos(3, 5)),
        MoveBuild(0, Pos(4, 4), Pos(3, 4)),
        MoveBuild(0, Pos(5, 4), Pos(5, 3)),
        MoveBuild(0, Pos(5, 4), Pos(6, 3)),
        MoveBuild(0, Pos(5, 4), Pos(4, 3)),
        MoveBuild(0, Pos(5, 4), Pos(4, 5)),
        MoveBuild(0, Pos(5, 4), Pos(4, 4)),
        MoveBuild(0, Pos(3, 4), Pos(4, 4)),
        MoveBuild(0, Pos(3, 4), Pos(3, 3)),
        MoveBuild(0, Pos(3, 4), Pos(4, 3)),
        MoveBuild(0, Pos(3, 4), Pos(2, 3)),
        MoveBuild(0, Pos(3, 4), Pos(3, 5)),
        MoveBuild(0, Pos(3, 4), Pos(4, 5)),
        MoveBuild(0, Pos(3, 4), Pos(2, 5)),
        MoveBuild(0, Pos(3, 4), Pos(2, 4)),
        MoveBuild(0, Pos(3, 3), Pos(4, 3)),
        MoveBuild(0, Pos(3, 3), Pos(3, 2)),
        MoveBuild(0, Pos(3, 3), Pos(2, 2)),
        MoveBuild(0, Pos(3, 3), Pos(3, 4)),
        MoveBuild(0, Pos(3, 3), Pos(4, 4)),
        MoveBuild(0, Pos(3, 3), Pos(2, 4)),
        MoveBuild(0, Pos(3, 3), Pos(2, 3)),
        MoveBuild(1, Pos(5, 2), Pos(4, 1)),
        MoveBuild(1, Pos(5, 2), Pos(5, 3)),
        MoveBuild(1, Pos(5, 2), Pos(6, 3)),
        MoveBuild(1, Pos(5, 2), Pos(4, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 0)),
        MoveBuild(1, Pos(4, 1), Pos(4, 2)),
        MoveBuild(1, Pos(4, 1), Pos(5, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 2)),
        MoveBuild(1, Pos(4, 1), Pos(3, 1)),
        MoveBuild(1, Pos(3, 1), Pos(4, 1)),
        MoveBuild(1, Pos(3, 1), Pos(3, 0)),
        MoveBuild(1, Pos(3, 1), Pos(3, 2)),
        MoveBuild(1, Pos(3, 1), Pos(4, 2)),
        MoveBuild(1, Pos(3, 1), Pos(2, 2)),
        MoveBuild(1, Pos(3, 1), Pos(2, 1)),
        MoveBuild(1, Pos(5, 3), Pos(6, 3)),
        MoveBuild(1, Pos(5, 3), Pos(5, 2)),
        MoveBuild(1, Pos(5, 3), Pos(4, 2)),
        MoveBuild(1, Pos(5, 3), Pos(5, 4)),
        MoveBuild(1, Pos(5, 3), Pos(4, 4)),
        MoveBuild(1, Pos(3, 3), Pos(3, 2)),
        MoveBuild(1, Pos(3, 3), Pos(4, 2)),
        MoveBuild(1, Pos(3, 3), Pos(2, 2)),
        MoveBuild(1, Pos(3, 3), Pos(3, 4)),
        MoveBuild(1, Pos(3, 3), Pos(4, 4)),
        MoveBuild(1, Pos(3, 3), Pos(2, 4)),
        MoveBuild(1, Pos(3, 3), Pos(2, 3)),
        MoveBuild(1, Pos(3, 2), Pos(4, 2)),
        MoveBuild(1, Pos(3, 2), Pos(3, 1)),
        MoveBuild(1, Pos(3, 2), Pos(4, 1)),
        MoveBuild(1, Pos(3, 2), Pos(2, 1)),
        MoveBuild(1, Pos(3, 2), Pos(3, 3)),
        MoveBuild(1, Pos(3, 2), Pos(2, 3)),
        MoveBuild(1, Pos(3, 2), Pos(2, 2))
      ),
      true
    )

    val removedFog = WarFogCleaner.restrictOppoScope(
      observed,
      previousState,
      previousAction,
      previousOppoScope
    )

    val removed2 = WarFogCleaner.removeFog(observed, removedFog)

    MinimaxPlayer.react(removed2)
  }
}
